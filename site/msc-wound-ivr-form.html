<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insurance Verification Request - MSC Wound Care Portal</title>
    <link rel="stylesheet" href="/css/modern-form.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <header class="site-header">
        <div class="header-container">
            <a href="/" class="header-logo">
                <span>MSC Wound Care</span>
            </a>
            <nav class="header-nav">
                <div class="nav-links">
                    <a href="/insurance-verification" class="nav-link active">Insurance Verification</a>
                    <a href="/product-education" class="nav-link">Product Education</a>
                    <a href="/order-form" class="nav-link">Order Form</a>
                    <a href="/onboarding" class="nav-link">Onboarding</a>
                </div>
                <div class="header-actions">
                    <button class="header-button outline">Contact Support</button>
                    <button class="header-button primary">Sign In</button>
                </div>
                <button class="mobile-menu-button">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 6h16M4 12h16m-16 6h16"></path>
                    </svg>
                </button>
            </nav>
        </div>
    </header>
    
    <main>
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <h2>Insurance Verification Request</h2>
                    <p>Please complete all required fields to submit your request</p>
                </div>
                
                <div class="card-body">
                    <div id="alertsContainer"></div>
                    
                    <!-- Progress bar container -->
                    <div class="progress-container"></div>

                    <form id="ivrForm" action="api/submit-ivr" method="POST" enctype="multipart/form-data">
                        <!-- Step 1: Form Setup -->
                        <div class="form-step" data-step="1">
                            <div class="form-section">
                                <div class="form-section-title">Form Setup</div>
                                
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="manufacturer">Manufacturer <span class="text-danger">*</span></label>
                                            <select id="manufacturer" name="manufacturerId" class="form-control" required>
                                                <option value="">Select Manufacturer</option>
                                            </select>
                                            <div class="form-text">Select the manufacturer for the product being requested</div>
                                            <div class="invalid-feedback">Please select a manufacturer</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="request_type">Request Type <span class="text-danger">*</span></label>
                                            <select id="request_type" name="requestType" class="form-control" required>
                                                <option value="">Select Request Type</option>
                                                <option value="new">New Request</option>
                                                <option value="renewal">Renewal</option>
                                                <option value="change">Change Request</option>
                                            </select>
                                            <div class="invalid-feedback">Please select a request type</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="request_date">Request Date <span class="text-danger">*</span></label>
                                            <input type="date" id="request_date" name="requestDate" class="form-control" required>
                                            <div class="invalid-feedback">Please select a date</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="sales_rep">Sales Representative <span class="text-danger">*</span></label>
                                            <select id="sales_rep" name="repId" class="form-control" required>
                                                <option value="">Select Sales Representative</option>
                                            </select>
                                            <div class="invalid-feedback">Please select a sales representative</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="additional_emails">Additional Notification Emails</label>
                                            <input type="text" id="additional_emails" name="additionalEmails" class="form-control">
                                            <div class="form-text">Separate multiple emails with commas</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-navigation">
                                <button type="button" class="btn btn-primary" data-action="next">
                                    Continue to Patient Information
                                    <svg class="icon" viewBox="0 0 24 24">
                                        <path d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Additional steps will be added dynamically by JavaScript -->
                    </form>
                </div>
                
                <div class="card-footer">
                    <p class="text-center">MSC Wound Care &copy; 2025 | Need help? Contact support at (555) 123-4567</p>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Scripts -->
    <script src="/js/ivr-form.js"></script>
    <script>
        // Initialize form on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Initializing from HTML');
            initIVRForm();
        });
    </script>
</body>
</html>
